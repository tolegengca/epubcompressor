# EPUB Compressor –¥–ª—è Kindle

–°–∫—Ä–∏–ø—Ç –¥–ª—è —Å–∂–∞—Ç–∏—è EPUB —Ñ–∞–π–ª–æ–≤ —Å —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ–º –∫–∞—á–µ—Å—Ç–≤–∞ ~90% –¥–ª—è –ø–µ—Ä–µ–¥–∞—á–∏ –Ω–∞ Kindle.

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç –≤ Google Colab (–†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è!)

**–°–∞–º—ã–π –ø—Ä–æ—Å—Ç–æ–π —Å–ø–æ—Å–æ–± - –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Google Colab!**

1. –û—Ç–∫—Ä–æ–π—Ç–µ —Ñ–∞–π–ª `compress_epub_colab.ipynb` –≤ Google Colab
   - –ó–∞–≥—Ä—É–∑–∏—Ç–µ —Ñ–∞–π–ª –Ω–∞ [Google Colab](https://colab.research.google.com/)
   - –ò–ª–∏ —Å–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—ã–π –Ω–æ—É—Ç–±—É–∫ –∏ —Å–∫–æ–ø–∏—Ä—É–π—Ç–µ –∫–æ–¥ –∏–∑ `compress_epub_colab.ipynb`

2. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –≤—Å–µ —è—á–µ–π–∫–∏ –ø–æ –ø–æ—Ä—è–¥–∫—É:
   - –ü–µ—Ä–≤–∞—è —è—á–µ–π–∫–∞ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
   - –í—Ç–æ—Ä–∞—è –∑–∞–≥—Ä—É–∑–∏—Ç –±–∏–±–ª–∏–æ—Ç–µ–∫–∏
   - –¢—Ä–µ—Ç—å—è –∑–∞–≥—Ä—É–∑–∏—Ç —Ñ—É–Ω–∫—Ü–∏–∏
   - –ß–µ—Ç–≤–µ—Ä—Ç–∞—è –ø–æ–∑–≤–æ–ª–∏—Ç –∑–∞–≥—Ä—É–∑–∏—Ç—å –≤–∞—à EPUB —Ñ–∞–π–ª (–ø—Ä–æ—Å—Ç–æ –≤—ã–±–µ—Ä–∏—Ç–µ —Ñ–∞–π–ª!)
   - –ü—è—Ç–∞—è –∑–∞–ø—É—Å—Ç–∏—Ç —Å–∂–∞—Ç–∏–µ
   - –®–µ—Å—Ç–∞—è —Å–∫–∞—á–∞–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç

**–í—Å—ë! –ù–∏–∫–∞–∫–∏—Ö –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö –Ω–∞—Å—Ç—Ä–æ–µ–∫ –Ω–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è!**

---

## üíª –õ–æ–∫–∞–ª—å–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

```bash
pip install -r requirements.txt
```

–∏–ª–∏

```bash
pip install Pillow
```

## –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### –ë–∞–∑–æ–≤–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:
```bash
python compress_epub.py book.epub
```

–°–æ–∑–¥–∞—Å—Ç —Ñ–∞–π–ª `book_compressed.epub` –≤ —Ç–æ–π –∂–µ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏.

### –£–∫–∞–∑–∞—Ç—å –≤—ã—Ö–æ–¥–Ω–æ–π —Ñ–∞–π–ª:
```bash
python compress_epub.py book.epub compressed_book.epub
```

### –£–∫–∞–∑–∞—Ç—å —Ü–µ–ª–µ–≤–æ–π —Ä–∞–∑–º–µ—Ä:
```bash
python compress_epub.py book.epub compressed_book.epub 49
```

## –ß—Ç–æ –¥–µ–ª–∞–µ—Ç —Å–∫—Ä–∏–ø—Ç:

1. **–û–ø—Ç–∏–º–∏–∑–∏—Ä—É–µ—Ç –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è:**
   - –ö–æ–Ω–≤–µ—Ä—Ç–∏—Ä—É–µ—Ç –≤—Å–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –≤ JPEG —Å –∫–∞—á–µ—Å—Ç–≤–æ–º 85%
   - –£–º–µ–Ω—å—à–∞–µ—Ç —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ –¥–æ –º–∞–∫—Å–∏–º—É–º 1920x2560 (–æ–ø—Ç–∏–º–∞–ª—å–Ω–æ –¥–ª—è Kindle)
   - –£–¥–∞–ª—è–µ—Ç –ø—Ä–æ–∑—Ä–∞—á–Ω–æ—Å—Ç—å (–∫–æ–Ω–≤–µ—Ä—Ç–∏—Ä—É–µ—Ç –≤ RGB)

2. **–°–∂–∏–º–∞–µ—Ç EPUB:**
   - –ò—Å–ø–æ–ª—å–∑—É–µ—Ç –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ —Å–∂–∞—Ç–∏–µ ZIP (compresslevel=9)
   - –°–æ—Ö—Ä–∞–Ω—è–µ—Ç —Å—Ç—Ä—É–∫—Ç—É—Ä—É EPUB

3. **–°–æ—Ö—Ä–∞–Ω—è–µ—Ç –∫–∞—á–µ—Å—Ç–≤–æ:**
   - JPEG –∫–∞—á–µ—Å—Ç–≤–æ 85% –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç ~90% –≤–∏–∑—É–∞–ª—å–Ω–æ–≥–æ –∫–∞—á–µ—Å—Ç–≤–∞
   - –†–∞–∑—Ä–µ—à–µ–Ω–∏–µ –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–æ –¥–ª—è —ç–∫—Ä–∞–Ω–æ–≤ Kindle

## –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤

–ï—Å–ª–∏ –Ω—É–∂–Ω–æ –±–æ–ª–µ–µ –∞–≥—Ä–µ—Å—Å–∏–≤–Ω–æ–µ —Å–∂–∞—Ç–∏–µ, –æ—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ –≤ `compress_epub.py`:

```python
MAX_IMAGE_WIDTH = 1920   # –£–º–µ–Ω—å—à–∏—Ç–µ –¥–æ 1200-1600 –¥–ª—è –±–æ–ª—å—à–µ–≥–æ —Å–∂–∞—Ç–∏—è
MAX_IMAGE_HEIGHT = 2560  # –£–º–µ–Ω—å—à–∏—Ç–µ –¥–æ 1600-2000
JPEG_QUALITY = 85        # –£–º–µ–Ω—å—à–∏—Ç–µ –¥–æ 80 –¥–ª—è –±–æ–ª—å—à–µ–≥–æ —Å–∂–∞—Ç–∏—è
```

## –ü—Ä–∏–º–µ—á–∞–Ω–∏—è

- –°–∫—Ä–∏–ø—Ç —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –≤—Å–µ —Ç–µ–∫—Å—Ç–æ–≤—ã–µ —Ñ–∞–π–ª—ã –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π
- –ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –∫–æ–Ω–≤–µ—Ä—Ç–∏—Ä—É—é—Ç—Å—è –≤ JPEG –¥–ª—è –ª—É—á—à–µ–≥–æ —Å–∂–∞—Ç–∏—è
- –î–ª—è –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è 49 –ú–ë –∏–∑ 700 –ú–ë –º–æ–∂–µ—Ç –ø–æ—Ç—Ä–µ–±–æ–≤–∞—Ç—å—Å—è –Ω–µ—Å–∫–æ–ª—å–∫–æ –∏—Ç–µ—Ä–∞—Ü–∏–π —Å —Ä–∞–∑–Ω—ã–º–∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏

## üìÅ –§–∞–π–ª—ã –≤ –ø—Ä–æ–µ–∫—Ç–µ

- `compress_epub_colab.ipynb` - **–ù–æ—É—Ç–±—É–∫ –¥–ª—è Google Colab (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è!)**
- `compress_epub.py` - –°–∫—Ä–∏–ø—Ç –¥–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
- `compress_epub_colab.py` - –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω–∞—è –≤–µ—Ä—Å–∏—è –¥–ª—è Colab (–µ—Å–ª–∏ –Ω—É–∂–µ–Ω .py —Ñ–∞–π–ª)

